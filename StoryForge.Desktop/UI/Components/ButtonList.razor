@using StoryForge.Core.Utils
@typeparam T where T : IIdentifiable

<MudStack Spacing="2">
    <MudText Typo="Typo.h6">@Label</MudText>
    @if (Items.Count() > 0)
    {
        <MudList T="string" SelectionMode="SelectionMode.SingleSelection">
            @foreach (var item in Items)
            {
                var path = $"{PathPrefix}/{item!.IdString}";
                <MudListItem Dense="true" Href="@path" OnClick="@(_ => OnItemClick?.Invoke(item))">
                    <ChildContent>
                        <MudText Color="Color.Tertiary">@item!.ToString()</MudText>
                    </ChildContent>
                </MudListItem>
            }
        </MudList>
    }
    else
    {
        <MudStack Justify="Justify.Center" AlignItems="AlignItems.Center" Class="my-1">
            <MudText>Not available</MudText>
        </MudStack>
    }
</MudStack>

@code {
    [Parameter]
    public string Label { get; set; } = string.Empty;

    [Parameter]
    public IEnumerable<T> Items { get; set; } = new List<T>();

    [Parameter]
    public string PathPrefix { get; set; } = string.Empty;

    [Parameter]
    public Action<T>? OnItemClick { get; set; }
}
